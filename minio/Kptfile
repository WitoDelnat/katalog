apiVersion: kpt.dev/v1alpha1
kind: Kptfile
metadata:
  name: minio
packageMetadata:
  tags:
  - zagrit/minio
  shortDescription: |
    Object storage compatible with AWS S3 API
openAPI:
  definitions:
    io.k8s.cli.setters.name:
      x-k8s-cli:
        setter:
          name: name
          value: minio
          isSet: true
    io.k8s.cli.setters.access-key:
      x-k8s-cli:
        setter:
          name: access-key
          value: foo
          isSet: true
    io.k8s.cli.setters.secret-key:
      x-k8s-cli:
        setter:
          name: secret-key
          value: bar
          isSet: true
    io.k8s.cli.substitutions.access-key-subst:
      x-k8s-cli:
        substitution:
          name: access-key-subst
          pattern: MINIO_ACCESS_KEY=${access-key}
          values:
          - marker: ${access-key}
            ref: '#/definitions/io.k8s.cli.setters.access-key'
    io.k8s.cli.substitutions.secret-key-subst:
      x-k8s-cli:
        substitution:
          name: secret-key-subst
          pattern: MINIO_SECRET_KEY=${secret-key}
          values:
          - marker: ${secret-key}
            ref: '#/definitions/io.k8s.cli.setters.secret-key'
